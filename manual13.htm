<html lang="ru"> 
<meta charset="utf-8"/>
<html><body>
  
<h3>[13] ИМПОРТ-ЭКСПОРТ </h3>
Когда вы закончите отрисовку, экспортируйте съёмку в вашем любимом формате в zip архив. Архив ZIP является полной резервной копией вашей съёмка и всех экспоротированных файлов. Вы можете использовать его, чтобы переместить съёмку в другой аппарат.<br><p>

<b>Внимание</b><br>
Файл zip архива содержит команду которая восстанавливает  базу данных съёмки и всю сопутствующую информацию при открытии через TopoDroid.
Zip не сработает если архив содержит базу данных устаревшей версии или более новой чем в  TopoDroid на данном устройстве.<br><p>

После того, как вы загрузили zip архив на ваш компьютер и распаковали его, вы можете дооформить карту пещеры в любой программе, к которой вы привыкли. Поддержка других форматов файлов пещерной топосъёмки при импорте  может быть не полной.<br><p>

<h4>Форматы экспорта по умолчанию</h4>
В TopoDroid есть две опции для выбора форматов экспорта по умолчанию данных топосъёмки и абрисов.
По умолчанию обе установленны на "none", т.е. не экспортировать.
<br><p>

В случае если формат экспорта данных съёмки по умолчанию установлен, TopoDroid экспортирует данные съёмки в указаном формате перед тем как создать zip архив, таким образом включая требуемый формат в выгрузку.<br><p>

В случае если формат экспорта абрисов по умолчанию установлен, абрисы экспортируються в этот формат при каждом закрытии (в добавок к сохранению в бинарный формат TopoDroid).<br>
Для cSurvey поперечные сечения сохраняються в картинку PNG.<br><p>

<h4>ЭКСПОРТ ДАННЫХ ТОПОСЪЁМКИ</h4>

Внимание. Привязанные пикеты экспортируються с координатами в формате широта-долгота [доли градусов] и высота над средним уровнем моря [м].<br><p>

<b>Therion</b> (.th)<br>
Данные топосъёмки экспортируются в <i>Therion</i> используя данные в формате "normal".<br>
Единицы измерения данных в соответствии с настройками пользователя.<br>
Названтя групп топосъёмки перечислены, но команда закоментирована.<br>
Комментарии к пикетам и обозначения (фиксированные, покрашеные) предшествуют данным нитки хода.<br><p>

Координаты привязанных пикетов (долгота широта и альтитуда н.у.м.) экспортируються закоментироваными.
Если у точки указны координаты в другой системе (CRS), то они тоже экспортируются, с указанием названия системы (CRS name).<br><p>

Более того команда "input" для файлов th2 и описание карты для каждого scrap добавлены в конец файла, но закоментированы.<br><p>
  
Настройки
<ul>
<li><u>Карты Therion</u>: если эта опция включена, то команды "map" помещаются в th файл до секции нитки хода.</li>
<li><u>ЛПВН" для того</u> чтобы включить ЛПВН в экспорт.</li>
</ul><p>

Импортируемые файлы терион должны иметь расширение ".th".<br>

Разбор и интерпретация синтаксиса <i>Therion</i> в TopoDroid довольно ограничены. В принцыпе только данные в формате "normal" могут быть прочитаны. Также поддерживаются следующие команды Therion: "units", "flag", "extend", "mark" и "station".<br>
Фиксированные точки ("fix") анализируются, но не учитывается так как "cs" (система координат) не поддерживается.<br><p>

<b>Compass</b> (.dat)<br>
<i>Compass</i> формат данных поддерживается как на импорт так и на экспорт.<br>
Импортируемые файлы compass должнв иметь расширение ".dat" либо ".DAT".<br>
Единицы измерения 'футы' и 'градусы'.<br><p>

<b>Walls</b><br>
Данные съёмки могут быть экспортированы в формат <i>Walls</i>.<br>
Единицы измерения данных в соответствии с настройками пользователя.<br><p>

<b>WinKarst</b> (.sur)<br>
Данные съёмки могут быть экспортированы в формат <i>WinKarst</i> (неотлажено).<br><p>

<b>Topo</b><br>
Данные съёмки могут быть экспортированы в формат <i>Topo</i>.<br>
Единицы измерения данных в соответствии с настройками пользователя. 
Координаты привязанных пикетов (долгота широта и альтитуда н.у.м.) экспортируються закоментироваными. Также поддерживаються некоторые команды. 
  
 Настройки:<ul style="margin-top=0">
 <li>окончание строки может быть либо Unix либо Windows</li>
 </ul><p>
  
<b>GHTopo</b> (.gtx)<br>
TopoDroid может экспортировать данные съёмки в формат <i>GHTopo</i> (частично отлажено).<br><p>
 
<b>Grottolf</b> (.grt)<br>
TopoDroid может экспортировать данные съёмки в формат <i>Grottolf</i> (неотлажено). 
Если первый пикет привязан к географиеским координатам, то данные экспортируются в этой системе, если нет, то используется локальная система. Сечения на пикетах расчитывается при помощи проекции боковых замеров на вертикальную плоскость, перпендикулярную замеру между пикетами.<br><p>

<b>Survex</b> (.svx)<br>
Данные съёмки могут быть экспортированы в формат <i>Survex</i>.<br>
Единицы измерения данных в соответствии с настройками пользователя.<br><p>

Настройки:<ul style="margin-top=0">
<li>конец строки может быть либо Unix либо Windows,</li>
<li>боковые замеры могут быть экспортированы с номером пикета ДО (такой же номер как у пикета ОТ с добавлением буквы)</li>
<li>добавить ЛПВН в экспорт</li>
</ul><p>
  
  
<b>TopoRobot</b> (.trb)<br>
Данные съёмки могут быть экспортированы в формат <i>TopoRobot</i>. При этом необходимо использовать схему наименования пикеитов <i>TopoRobot</i> . Если номера пикетов присвоены как в TopoRobot "серия.номер", то они будут использованы при экспорте.<br><p>

<b>VisualTopo</b><br>
<i>VisualTopo</i> формат данных поддерживаются как на импорт так и на экспорт.<br>
Импортируемые файлы VisualTopo должнв иметь расширение ".tro" либо ".TRO".<br>
Единицы измерения 'метры' и 'градусы'.<br><p>

<b>PocketTopo</b> (.top)<br>
TopoDroid поддерживает формат <i>PocketTopo</i> как на импорт так и на экспорт.<br><p>

Экспорт содержит только данные съёмки.<br>
При экспорте названия пикетов с алфавитно-цифровыми символами должны быть преобразованы в числовые. В этом случае TopoDroid заменяет каждый символ двумя цифрами. Более точно 'a' преобразуется в '00', 'b' в '01' и т.д., 'A' в '50', 'B' в '51', и т.д.. Любой другой символ (т.е., алфавитно-цифровой) преобразуется в '99'.<br><p>

При импорте, "outline" и "profile" абрисы импортируються.<br>
Импортируемые файлы PocketTopo должнв иметь расширение ".top" либо ".TOP".<br>
<i>PocketTopo</i> использует несколько цветов для дифференциации типов линий.
При импорте используется <a href="page_pt_cmap.htm">преобразование</a> из цветов в типы линий therion_types. Линейные и точечные типы могут быть с определены в настройках.<br><p>

Может случиться так, что импортированный абрис не выровнен на нитку хода. В этом случае вы можете сдвинуть абрис в окне <i>Абрисов</i> чтобы он совпал с ниткой хода.<br><p>

<b>Polygon</b> (.cave)<br>
Данные съёмки могут быть экспортированы в формат <i>Polygon</i>. 
Привязанные точки содержат координаты в формате lat-long.<br><p>


<b>PLT</b><br>
Данные съёмки могут быть экспортированы в файл трека (<i>OziExplorer</i>) если вы задали координаты пикета. Азимуты коректируются за магнитное склонение.<br><p>

<b>KML</b><br>
Данные съёмки могут быть экспортированы в файл KML (<i>GoogleEarth</i>) если вы задали координаты пикета. Азимуты коректируются за магнитное склонение.<br><p>
  
Настройки:<ul style="margin-top=0">
<ul>
<li><u>пикеты</u></li>
<li><u>боковые замеры</u></li>
</ul>
<br><p>

<b>CSV</b> (.csv)<br>
Данные съёмки могут быть экспортированы как список с полями разделенными запятой:
<ul style="margin-top=0">
<li>пикет "от"</li>
<li>пикет "до"</li>
<li>длинна, азимут, угол</li>
<li>метка (флаг) если задан</li>
</ul><br>
Комментарии к пикетам не экспортируются. Краткий заголовок предваряет список данных.<br><p>

<b>DXF</b> (.dxf)<br>
Данные съёмки могут быть экспортированы как 3D DXF разделенный на слои
<ul style="margin-top=0">
<li>пикеты</li>
<li>нитка</li>
<li>боковые замеры</li>
</ul><br>
Азимуты коректируются за магнитное склонение<br><p>

<h4>ЭКСПОРТ АБРИСОВ</h4>

<b>Therion</b> (.th2)<br>
<i>Therion</i> это программа для картирования пещер для работы с которой создавался TopoDroid.<br><p>

Абрисы экспортируются в формат Therion в масштабе 1:39.37.<br> 
<p>

Настройки:<ul style="margin-top=0">
<li>дополнительная точка в линии граний областей.  По умолчанию TopoDroid, в отличии от "xtherion", не добавляет доп точку в конец линии совпадающую с начальной для закрытия полигона области.</li>
<li>точки "пикетов". [по умолчанию: вкл].</li>
<li>добавлять боковые замеры в абрис (как линии с типом "u:splay") [по умолчанию: выкл].</li>
</ul><p>
  
 <b>Внимание</b>. Начиная с версии 3.1 TopoDroid хранит свои абрисы только во внутреннем бинарном формате.<br>
Предыдущие версии использовали для сохранения абрисов формат Therion.
Для старых проектов конвертация из Therion в бинарный формат происходит "автоматически" в момент открытия абриса: если TopoDroid не может найти абрис в бинарном формате, он начнет искать Therion файл.<br><p>
 

<b>cSurvey</b> (.csx)<br>
Этот экспорт содержит абрисы как плана, так и разреза, а также данные съёмки.
Элементы абрисов распределены по соответствуюшим <i>cSurvey</i> слоям.<br><p>
  
В атрибут cSurvey "пещера" экспортируется название съёмки, а в атрибут "ветка" название абриса.

Если в съёмке только один абрис, то это будет полный экспорт вашей работы (за исключением сечений).
Если в съёмке более одного абриса, вы должны экспортировать каждый абрис по отдельности и объединить их в <i>cSurvey</i>.<br><p>

Сегментам нитки хода и боковым замерам, а также элементам абриса присваиваются те же атрибуты.<br><p>
  
<b>DXF</b> (.dxf)<br>
Абрисы могут быть экспортированы как 2D DXF где каждый слой содержит точки, линии и области одного типа в дополнение к слоям данных 3D DXF. <br><p>
Элементы абрисов в 2D DXF лежат на плоскости Z=0.<br><p>

Боковые замеры в экспортированных SVG и DXF файлах могут отличатся от того что было на абрисах TopoDroid поскольку экспорт в DXF использует только нпаправление развертки замера между пикетами,  в то время как на абрисах TopoDroid использует азимут замеров для вычисления направления развертки боковых замеров.<br><p>

<u>Внимание</u>. Экспорт в формат DXF был проверен на VariCAD; совместимость с AutoCAD не гарантирована.<br><p>
  
Настройки:<ul style="margin-top=0">
<li><u>масштаб</u> DXF</li>
<li><u>Точки поперечных сечений</u>: в случае если включена опция автоматически добавлять точку сечения к концу линии поперечного сечения, то абрис поперечного сечения будет автоматически добавлен в экспорт и помещен в этут точку.</li>
<!--li>AutoCAD version (6 or 12)</li-->
</ul><p>

<b>SVG</b> (.svg)<br>
Абрисы могут быть экспортированы как SVG файлы.<br><p>

Боковые замеры на разрезе-развертки могут не совпадать с тем как они показаны на абрисах TopoDroid.<br><p>
  
Настройки:<ul style="margin-top=0">
 <li>рисовать сетку при экспорте (размер ячейки в текущих единицах измерения).</li>
<li><u>Точки поперечных сечений</u>: в случае если включена опция автоматически добавлять точку сечения к концу линии поперечного сечения, то абрис поперечного сечения будет автоматически добавлен в экспорт и помещен в этут точку.</li>
<li><u>авто нумерация пикетов</u>: если эта опция включена, то все номера пркетов включены в экспорт, если нет, то только пиукты из списка сохраненных пикетов будут включены в экспорт.</li>
<li><u>SVG в HTML</u>: если выбрана это опция, то SVG экспортируется в виде HTML документа</li>
 </ul><p>

<b>PNG</b> (.png)<br>
Растровый формат PNG может быть использован для экспорта абрисов.<br><p>
 
Настройки:<ul style="margin-top=0">
<li>разрешение картинки (1 означает что 1 m = 40 пикселей).  The PNG resolution that fits therion th2 export is 5.0.
Если у системы не достаточно памяти для создания картинки в заданом разрешении, TopoDroid будет понижать разрешение до достижения результата.</li>
<li>цвет фона. Введите три значения между 0 (черный) и 255 (насыщенный) для красного, зеленого, и голубого соответствнно.</li>
</ul><p>

<h4>ЭКСПОРТ КАЛИБРОВКИ</h4>

<a href="page_calib_import.htm">Калибровки</a> можно экспортировать и импортировать в CSV-формате. (.csv)<br><p>

<h4>НАСТРОЙКИ ИМПОРТА/ЭКСПОРТА</h4>
<ul style="margin-top=0">
<li><i>Преобразование цветов PocketTopo</i>: определяет, как преобразовать цвета PocketTopo в стили элементов абриса, для импорта файлов PocketTopo.</li> 
<li><i>Оценить размер Лево/Право</i> при импорте Compass/VisualTopo, По умолчанию ВКЛ.</li>
<li><i>Формат экспорта данных</i>: определяет формат по умолчанию, в который экспортируются данные. Этот файл автоматически генерируется и добавляется в ZIP архив.</li>
<li><i>Формат экспорта абрисов</i>: определяет формат по умолчанию, в который экспортируются абрисы. Файлы в этом формате автоматически создаются при закрытии абриса. Это создает дополнителтную нагрузку на систему, так что эту опцию можно выключить до финального экспорта после окончания съёмки.</li>
<li><i>Команды карт Therion в первую очередь</i>: определяет стоит ли ставить блок команд карты (map) до или после блока нитки хода.</li>
<li><i>Точки пикетов Therion в абрисе</i>: следует ли автоматически добавлять точки пикетов в сохраняемый файл Therion. Если вы хотите использовать файлы абрисоа в Therion то они должны содержать точки пикетов, чтобы коректно определить их масштаб. Вы можете вручную выбрать какие пикеты добавить в абрис (во время редактирования абриса), или настроить TopoDroid добавить пикеты автоматически. Программа добавит все пикеты, которые "внутри" рисунка (внутри пещеры).</li>
<li><i>Боковые замеры в Therion.</i> Добавлять линии боковых замеров на скарапы Therion. По умолчанию нет</li>
<li><i>Префикс пикетов</i>: следует ли автоматически добавлять название съёмки в качестве префикса пикетов при экспорте в cSurvey.</li>
<li><i>Номера пикетов Toporobot</i>. Экспорт номеров пикетов в стиле Toporobot.</li>
<li><i>Мин. угол бок. замера для ЛПВН</i>. Минимальный угол между вектором и боковым замером для расчета ЛПВН при экспорте. По умолчанию 0</li>
<li><i>Развернуть ЛП в Compass</i>. Поменять местами Лево и Право при экспорте в формат Compass при экспорте. Необходимо для корректной работы при съёмке обратными замервми. По умолчанию выкл.</li>
<li><i>Survex пикет для бок. замера</i>: следует ли добавлять пикет ДО к боковым замерам как в Survex</li>
<li><i>Survex окончение строки</i>: либо Unix либо Windows</li>
<li><i>Survex ЛПВН</i>: следует ли добавлять ЛПВН при экспорте в Survex  [по умолчанию нет]</li>
<li><i>Сетка в SVG</i>. Добавить сетку в экспорт SVG. По умолчанию выкл.</li>
<li><i>SVG в HTML</i>. Экспорт SVG встроенного в html страницу для удобного просмотра в браузере. По умолчанию выкл.</li>
<li><i>Пикеты в KML</i>. Добавить точки пикетов при экспорте данных в формат KML. По умолчанию выкл.</li>
<li><i>Боковые замеры в KML</i>. Добавить линии боковых замеров при экспорте данных в формат KML. По умолчанию выкл.</li>
<li><i>Масштаб PNG</i>: разрешение файлоа PNG при экспорте абрисов. Может быть число между 1 и 10. Чем выше значение, тем больше изображение (если вы установите его слишком высоко система может не иметь достаточно памяти для создания PNG).</li> 
<li><i>Цвет фона PNG</i>: вы можете установить цвет фона PNG изображений, указав значения RGB (три целых числа между 0 и 255).</li>
<li><i>Масштаб DXF</i>: масштаб при экспорте абрисов в DXF.</li>
<li><i>Точки бок. замеров в DXF</i>. Экспортировать конечные точки боковых замеров в файл DXF</li>
<!--li><i>Версия AutoCAD</i> для экспорта в  DXF: либо 6 (AutoCAD R9) либо 12 (AutoCAD R13). В версии 6 DXF кривые Безье заменяются полилинии. Версия 12 DXF экспортирует как сплайн интерполированные линии, но не без глюков.</li-->
</ul><br><p>


<a href="page_finalmap.htm">Финальная карта</a><br>
<p>

<a href="manual12.htm">&lt; Окно обзора</a> |
<a href="manual14.htm">Индекс &gt;</a>

</body></html>

