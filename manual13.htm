<html><body>
<h3>[13] ИМПОРТ-ЭКСПОРТ </h3>
Когда вы закончите отрисовку, экспортируйте съёмку в вашем любимом формате в zip архив. Архив ZIP является полной резервной копией вашей съёмка и всех экспоротированных файлов. Вы можете использовать его, чтобы переместить съёмку в другой аппарат.<br><p>

<b>Внимание</b><br>
Файл zip архива содержит команду которая восстанавливает  базу данных съёмки и всю сопутствующую информацию при открытии через TopoDroid.
Zip не сработает если архив содержит базу данных устаревшей версии или более новой чем в  TopoDroid на данном устройстве.<br><p>

После того, как вы загрузили zip архив на ваш компьютер и распаковали его, вы можете дооформить карту пещеры в любой программе, к которой вы привыкли. Поддержка других форматов файлов пещерной топосъёмки при импорте  может быть не полной.<br><p>

<h4>Форматы экспорта по умолчанию</h4>
В TopoDroid есть две опции для выбора форматов экспорта по умолчанию данных топосъёмки и абрисов.
По умолчанию обе установленны на "none", т.е. не экспортировать.
<br><p>

В случае если формат экспорта данных съёмки по умолчанию установлен, TopoDroid экспортирует данные съёмки в указаном формате перед тем как создать zip архив, таким образом включая требуемый формат в выгрузку.<br><p>

В случае если формат экспорта абрисов по умолчанию установлен, абрисы экспортируються в этот формат при каждом закрытии (в добавок к сохранению в бинарный формат TopoDroid).<br>
Для cSurvey поперечные сечения сохраняються в картинку PNG.<br><p>

<h4>ЭКСПОРТ ДАННЫХ ТОПОСЪЁМКИ</h4>

Внимание. Привязанные пикеты экспортируються с координатами в формате широта-долгота [доли градусов] и высота над средним уровнем моря [м].<br><p>

<b>Therion</b><br>
Данные топосъёмки экспортируются в <i>Therion</i> используя данные в формате "normal".<br>
Единицы измерения данных в соответствии с настройками пользователя.<br>
Названтя групп топосъёмки перечислены, но команда закоментирована.<br>
Комментарии к пикетам и обозначения (фиксированные, покрашеные) предшествуют данным нитки хода.<br><p>

Координаты привязанных пикетов (долгота широта и альтитуда н.у.м.) экспортируються закоментироваными.
Если у точки указны координаты в другой системе (CRS), то они тоже экспортируются, с указанием названия системы (CRS name).<br><p>

Более того команда "input" для файлов th2 и описание карты для каждого scrap добавлены в конец файла, но закоментированы.<br><p>

Разбор и интерпретация синтаксиса <i>Therion</i> в TopoDroid довольно ограничены. В принцыпе только данные в формате "normal" могут быть прочитаны. Также поддерживаются следующие команды Therion: "units", "flag", "extend", "mark" и "station".<br>
Фиксированные точки ("fix") анализируются, но не учитывается так как "cs" (система координат) не поддерживается.<br><p>

<b>Compass</b><br>
<i>Compass</i> формат данных поддерживается как на импорт так и на экспорт.<br>
Единицы измерения 'футы' и 'градусы'.<br><p>

<b>Walls</b><br>
Данные съёмки могут быть экспортированы в формат <i>Walls</i>.<br>
Единицы измерения данных в соответствии с настройками пользователя.<br><p>

<b>Topo</b><br>
Данные съёмки могут быть экспортированы в формат <i>Topo</i>.<br>
Единицы измерения данных в соответствии с настройками пользователя. 
Координаты привязанных пикетов (долгота широта и альтитуда н.у.м.) экспортируються закоментироваными. Также поддерживаються некоторые команды. <br><p>

<b>Survex</b><br>
Данные съёмки могут быть экспортированы в формат <i>Survex</i>.<br>
Единицы измерения данных в соответствии с настройками пользователя.<br>
Настройки:
<ul>
<li>конец строки может быть либо Unix либо Windows,</li>
<li>боковые замеры могут быть экспортированы с номером пикета ДО (такой же номер как у пикета ОТ с добавлением буквы)</li>
</ul><br><p>

<b>VisualTopo</b><br>
<i>VisualTopo</i> формат данных поддерживаются как на импорт так и на экспорт.<br>
Единицы измерения 'метры' и 'градусы'.<br><p>

<b>PocketTopo</b><br>
TopoDroid поддерживает формат <i>PocketTopo</i> как на импорт так и на экспорт.<br><p>

Экспорт содержит только данные съёмки.<br>
При экспорте названия пикетов с алфавитно-цифровыми символами должны быть преобразованы в числовые. В этом случае TopoDroid заменяет каждый символ двумя цифрами. Более точно 'a' преобразуется в '00', 'b' в '01' и т.д., 'A' в '50', 'B' в '51', и т.д.. Любой другой символ (т.е., алфавитно-цифровой) преобразуется в '99'.<br><p>

При импорте, "outline" и "profile" абрисы импортируються.<br>
<i>PocketTopo</i> использует несколько цветов для дифференциации типов линий.
Следовательно используется <a href="page_pt_cmap.htm">преобразование</a> из цветов в типы линий therion_types. Линейные и точечные типы могут быть с определены в настройках.<br><p>

Может случиться так, что импортированный абрис не выровнен на нитку хода. В этом случае вы можете сдвинуть абрис в окне <i>Абрисов</i> чтобы он совпал с ниткой хода.<br><p>

<b>Polygon</b>
Данные съёмки могут быть экспортированы в формат <i>Polygon</i>. 
Привязанные точки содержат координаты в формате lat-long.<br><p>

<b>cSurvey</b><br>
Экспорт данных в <i>cSurvey</i> содержит только данные съёмки и не содержит абрисов.<br><p>

<b>PLT</b><br>
Данные съёмки могут быть экспортированы в файл трека (<i>OziExplorer</i>) если вы задали координаты пикета. Азимуты коректируются за магнитное склонение.<br><p>

<b>KML</b><br>
Данные съёмки могут быть экспортированы в файл KML (<i>GoogleEarth</i>) если вы задали координаты пикета. Азимуты коректируются за магнитное склонение.<br><p>

<b>CSV</b><br>
Данные съёмки могут быть экспортированы как список с полями разделенными запятой:
<ul>
<li>пикет "от"</li>
<li>пикет "до"</li>
<li>длинна, азимут, угол</li>
<li>метка (флаг) если задан</li>
</ul><br>
Комментарии к пикетам не экспортируются. Краткий заголовок предваряет список данных.<br><p>

<b>DXF</b><br>
Данные съёмки могут быть экспортированы как 3D DXF разделенный на слои
<ul>
<li>пикеты</li>
<li>нитка</li>
<li>боковые замеры</li>
</ul><br>
Азимуты коректируются за магнитное склонение<br><p>

<h4>ЭКСПОРТ АБРИСОВ</h4>

<b>Therion</b><br>
<i>Therion</i> это программа для картирования пещер для работы с которой создавался TopoDroid.<br><p>

Абрисы "изначально" сохраняються либо в формате Therion либо во внутреннем формате TopoDroid.<br>
Конвертация из Therion во внутренний формат выполняется "автоматом": при открытии абриса если TopoDroid не находит бинарный файл, то он ищет файл в формате Therion.<br> 
Преобразование из бинарного файла в формат Therion выполняется через соответствующее меню в окне <i>Съёмка</i>.<br><p>

По умолчанию TopoDroid, в отличии от "xtherion", не добавляет дополнительную точку, совпадающую с первой точкой в линии для того чтобы замкнуть границы области. Существует опция для добавления дополнительной точки.<br><p>

Другая опция говорит TopoDroid включить точки "пикетов" в экспорт скрапа Therion [по умолчанию: вкл].<br><p>

Третья опция добавляет боковые замеры на скрап (в виде линий типа "u:splay") [по умолчанию: выкл].<br><p>

<b>cSurvey</b><br>
Этот экспорт содержит абрисы как плана, так и разреза, а также данные съёмки.
Элементы абрисов распределены по соответствуюшим <i>cSurvey</i> слоям.<br><p>

Если в съёмке только один абрис, то это будет полный экспорт вашей работы (за исключением сечений).
Если в съёмке более одного абриса, вы должны экспортировать каждый абрис по отдельности и объединить их в <i>cSurvey</i>.<br><p>

<b>DXF</b><br>
Абрисы могут быть экспортированы как 2D DXF где каждый слой содержит точки, линии и области одного типа в дополнение к слоям данных 3D DXF.<br><p>

Элементы абрисов в 2D DXF лежат на плоскости Z=0.<br><p>

<b>SVG</b><br>
Абрисы могут быть экспортированы как SVG файлы.<br><p>

<b>PNG</b><br>
Растровый формат PNG может быть использован для экспорта абрисов. Разрешение картинки (кол-во пикселей на метр) может быть изменено в настройках: разрешение 1 значит что в 1 м = 40 пикселей. Если система не имеет достаточно памяти для создания изображения в заданном разрешении, TopoDroid использует меньшее разрешение, пока экспорт не удастся.<br><p>

<h4>ЭКСПОРТ КАЛИБРОВКИ</h4>

<a href="page_calib_import.htm">Калибровки</a> можно экспортировать и импортировать в CSV-формате.<br><p>

<h4>НАСТРОЙКИ ИМПОРТА/ЭКСПОРТА</h4>
<ul>
<li><i>Формат экспорта данных</i>: определяет формат по умолчанию, в который экспортируются данные. Этот файл автоматически генерируется и добавляется в ZIP архив.</li>
<li><i>Формат экспорта абрисов</i>: определяет формат по умолчанию, в который экспортируются абрисы. Файлы в этом формате автоматически создаются при закрытии абриса. Это создает дополнителтную нагрузку на систему, так что эту опцию можно выключить до финального экспорта после окончания съёмки.</li>
<li><i>Преобразование цветов PocketTopo</i>: определяет, как преобразовать цвета PocketTopo в стили элементов абриса, для импорта файлов PocketTopo.</li> 
<li><i>Команды карт Therion<i>: определяет стоит ли ставить блок команд карты до или после блока нитки хода.</li>
<li><i>Авто-пикеты в абрисе</i>: следует ли автоматически добавлять точки пикетов в сохраняемый файл Therion. Если вы хотите использовать файлы абрисоа в Therion то они должны содержать точки пикетов, чтобы коректно определить их масштаб. Вы можете вручную выбрать какие пикеты добавить в абрис (во время редактирования абриса), или настроить TopoDroid добавить пикеты автоматически. Программа добавит все пикеты, которые "внутри" рисунка (внутри пещеры).</li>
<li><i>Префикс пикетов</i>: следует ли автоматически добавлять название съёмки в качестве префикса пикетов при экспорте в cSurvey.</li>
<li><i>Survex окончение строки</i>: либо Unix либо Windows</li>
<li><i>Survex пикет для бок. замера</i>: следует ли добавлять пикет до к боковым замерам</li>
<li><i>Survex ЛПВН</i>: следует ли добавлять ЛПВН при экспорте в Survex  [по умолчанию нет]</li>
<li><i>Разрешение PNG</i>: разрешение файлоа PNG при экспорте абрисов. Может быть число между 1 и 10. Чем выше значение, тем больше изображение (если вы установите его слишком высоко система может не иметь достаточно памяти для создания PNG).</li> 
<li><i>Цвет фона PNG</i>: вы можете установить цвет фона PNG изображений, указав значения RGB (три целых числа между 0 и 255).</li>
<li><i>Масштаб DXF</i>: масштаб при экспорте абрисов в DXF.</li>
<li><i>Версия AutoCAD</i> для экспорта в  DXF: либо 6 (AutoCAD R9) либо 12 (AutoCAD R13). В версии 6 DXF кривые Безье заменяются полилинии. Версия 12 DXF экспортирует как сплайн интерполированные линии, но не без глюков.</li>
</ul><br><p>


<a href="page_finalmap.htm">Финальная карта</a><br>
<p>

<a href="manual12.htm">&lt; Окно обзора</a> |
<a href="manual14.htm">Индекс &gt;</a>

</body></html>

